define(["./shop-app.js"],function(_shopApp){"use strict";function _templateObject_1c67f9e0e6b711e88442374e90ff027e(){var data=babelHelpers.taggedTemplateLiteral(["\n    <style include=\"shop-common-styles shop-button shop-form-styles shop-input shop-select shop-checkbox\">\n\n      .main-frame {\n        transition: opacity 0.5s;\n      }\n\n      :host([waiting]) .main-frame {\n        opacity: 0.1;\n      }\n\n      shop-input, shop-select {\n        font-size: 16px;\n      }\n\n      shop-select {\n        margin-bottom: 20px;\n      }\n\n      paper-spinner-lite {\n        position: fixed;\n        top: calc(50% - 14px);\n        left: calc(50% - 14px);\n      }\n\n      .billing-address-picker {\n        margin: 28px 0;\n        height: 20px;\n        @apply --layout-horizontal;\n      }\n\n      .billing-address-picker > label {\n        margin-left: 12px;\n      }\n\n      .grid {\n        margin-top: 40px;\n        @apply --layout-horizontal;\n      }\n\n      .grid > section {\n        @apply --layout-flex;\n      }\n\n      .grid > section:not(:first-child) {\n        margin-left: 80px;\n      }\n\n      .row {\n        @apply --layout-horizontal;\n        @apply --layout-end;\n      }\n\n      .column {\n        @apply --layout-vertical;\n      }\n\n      .row > .flex,\n      .input-row > * {\n        @apply --layout-flex;\n      }\n\n      .input-row > *:not(:first-child) {\n        margin-left: 8px;\n      }\n\n      .shop-select-label {\n        line-height: 20px;\n      }\n\n      .order-summary-row {\n        line-height: 24px;\n      }\n\n      .total-row {\n        font-weight: 500;\n        margin: 30px 0;\n      }\n\n      @media (max-width: 767px) {\n\n        .grid {\n          display: block;\n          margin-top: 0;\n        }\n\n        .grid > section:not(:first-child) {\n          margin-left: 0;\n        }\n\n      }\n\n    </style>\n\n    <div class=\"main-frame\">\n      <iron-pages id=\"pages\" selected=\"[[state]]\" attr-for-selected=\"state\">\n        <div state=\"init\">\n          <iron-form id=\"checkoutForm\"\n              on-iron-form-response=\"_didReceiveResponse\"\n              on-iron-form-presubmit=\"_willSendRequest\">\n            <form method=\"post\" action=\"data/sample_success_response.json\" enctype=\"application/x-www-form-urlencoded\">\n\n              <div class=\"subsection\" visible$=\"[[!_hasItems]]\">\n                <p class=\"empty-cart\">Your <iron-icon icon=\"shopping-cart\"></iron-icon> is empty.</p>\n              </div>\n\n              <header class=\"subsection\" visible$=\"[[_hasItems]]\">\n                <h1>Checkout</h1>\n                <span>Shop is a demo app - form data will not be sent</span>\n              </header>\n\n              <div class=\"subsection grid\" visible$=\"[[_hasItems]]\">\n                <section>\n                  <h2 id=\"accountInfoHeading\">Account Information</h2>\n                  <div class=\"row input-row\">\n                    <shop-input>\n                      <input type=\"email\" id=\"accountEmail\" name=\"accountEmail\"\n                          placeholder=\"Email\" autofocus required\n                          aria-labelledby=\"accountEmailLabel accountInfoHeading\">\n                      <shop-md-decorator error-message=\"Invalid Email\" aria-hidden=\"true\">\n                        <label id=\"accountEmailLabel\">Email</label>\n                        <shop-underline></shop-underline>\n                      </shop-md-decorator>\n                    </shop-input>\n                  </div>\n                  <div class=\"row input-row\">\n                    <shop-input>\n                      <input type=\"tel\" id=\"accountPhone\" name=\"accountPhone\" pattern=\"\\d{10,}\"\n                          placeholder=\"Phone Number\" required\n                          aria-labelledby=\"accountPhoneLabel accountInfoHeading\">\n                      <shop-md-decorator error-message=\"Invalid Phone Number\" aria-hidden=\"true\">\n                        <label id=\"accountPhoneLabel\">Phone Number</label>\n                        <shop-underline></shop-underline>\n                      </shop-md-decorator>\n                    </shop-input>\n                  </div>\n                  <h2 id=\"shipAddressHeading\">Shipping Address</h2>\n                  <div class=\"row input-row\">\n                    <shop-input>\n                      <input type=\"text\" id=\"shipAddress\" name=\"shipAddress\" pattern=\".{5,}\"\n                          placeholder=\"Address\" required\n                          aria-labelledby=\"shipAddressLabel shipAddressHeading\">\n                      <shop-md-decorator error-message=\"Invalid Address\" aria-hidden=\"true\">\n                        <label id=\"shipAddressLabel\">Address</label>\n                        <shop-underline></shop-underline>\n                      </shop-md-decorator>\n                    </shop-input>\n                  </div>\n                  <div class=\"row input-row\">\n                    <shop-input>\n                      <input type=\"text\" id=\"shipCity\" name=\"shipCity\" pattern=\".{2,}\"\n                          placeholder=\"City\" required\n                          aria-labelledby=\"shipCityLabel shipAddressHeading\">\n                      <shop-md-decorator error-message=\"Invalid City\" aria-hidden=\"true\">\n                        <label id=\"shipCityLabel\">City</label>\n                        <shop-underline></shop-underline>\n                      </shop-md-decorator>\n                    </shop-input>\n                  </div>\n                  <div class=\"row input-row\">\n                    <shop-input>\n                      <input type=\"text\" id=\"shipState\" name=\"shipState\" pattern=\".{2,}\"\n                          placeholder=\"State/Province\" required\n                          aria-labelledby=\"shipStateLabel shipAddressHeading\">\n                      <shop-md-decorator error-message=\"Invalid State/Province\" aria-hidden=\"true\">\n                        <label id=\"shipStateLabel\">State/Province</label>\n                        <shop-underline></shop-underline>\n                      </shop-md-decorator>\n                    </shop-input>\n                    <shop-input>\n                      <input type=\"text\" id=\"shipZip\" name=\"shipZip\" pattern=\".{4,}\"\n                          placeholder=\"Zip/Postal Code\" required\n                          aria-labelledby=\"shipZipLabel shipAddressHeading\">\n                      <shop-md-decorator error-message=\"Invalid Zip/Postal Code\" aria-hidden=\"true\">\n                        <label id=\"shipZipLabel\">Zip/Postal Code</label>\n                        <shop-underline></shop-underline>\n                      </shop-md-decorator>\n                    </shop-input>\n                  </div>\n                  <div class=\"column\">\n                    <label id=\"shipCountryLabel\" class=\"shop-select-label\">Country</label>\n                    <shop-select>\n                      <select id=\"shipCountry\" name=\"shipCountry\" required\n                          aria-labelledby=\"shipCountryLabel shipAddressHeading\">\n                        <option value=\"US\" selected>United States</option>\n                        <option value=\"CA\">Canada</option>\n                      </select>\n                      <shop-md-decorator aria-hidden=\"true\">\n                        <shop-underline></shop-underline>\n                      </shop-md-decorator>\n                    </shop-select>\n                  </div>\n                  <h2 id=\"billAddressHeading\">Billing Address</h2>\n                  <div class=\"billing-address-picker\">\n                    <shop-checkbox>\n                      <input type=\"checkbox\" id=\"setBilling\" name=\"setBilling\"\n                          checked$=\"[[hasBillingAddress]]\" on-change=\"_toggleBillingAddress\">\n                      <shop-md-decorator></shop-md-decorator aria-hidden=\"true\">\n                    </shop-checkbox>\n                    <label for=\"setBilling\">Use different billing address</label>\n                  </div>\n                  <div hidden$=\"[[!hasBillingAddress]]\">\n                    <div class=\"row input-row\">\n                      <shop-input>\n                        <input type=\"text\" id=\"billAddress\" name=\"billAddress\" pattern=\".{5,}\"\n                            placeholder=\"Address\" required$=\"[[hasBillingAddress]]\"\n                            autocomplete=\"billing street-address\"\n                            aria-labelledby=\"billAddressLabel billAddressHeading\">\n                        <shop-md-decorator error-message=\"Invalid Address\" aria-hidden=\"true\">\n                          <label id=\"billAddressLabel\">Address</label>\n                          <shop-underline></shop-underline>\n                        </shop-md-decorator>\n                      </shop-input>\n                    </div>\n                    <div class=\"row input-row\">\n                      <shop-input>\n                        <input type=\"text\" id=\"billCity\" name=\"billCity\" pattern=\".{2,}\"\n                            placeholder=\"City\" required$=\"[[hasBillingAddress]]\"\n                            autocomplete=\"billing address-level2\"\n                            aria-labelledby=\"billCityLabel billAddressHeading\">\n                        <shop-md-decorator error-message=\"Invalid City\" aria-hidden=\"true\">\n                          <label id=\"billCityLabel\">City</label>\n                          <shop-underline></shop-underline>\n                        </shop-md-decorator>\n                      </shop-input>\n                    </div>\n                    <div class=\"row input-row\">\n                      <shop-input>\n                        <input type=\"text\" id=\"billState\" name=\"billState\" pattern=\".{2,}\"\n                            placeholder=\"State/Province\" required$=\"[[hasBillingAddress]]\"\n                            autocomplete=\"billing address-level1\"\n                            aria-labelledby=\"billStateLabel billAddressHeading\">\n                        <shop-md-decorator error-message=\"Invalid State/Province\" aria-hidden=\"true\">\n                          <label id=\"billStateLabel\">State/Province</label>\n                          <shop-underline></shop-underline>\n                        </shop-md-decorator>\n                      </shop-input>\n                      <shop-input>\n                        <input type=\"text\" id=\"billZip\" name=\"billZip\" pattern=\".{4,}\"\n                            placeholder=\"Zip/Postal Code\" required$=\"[[hasBillingAddress]]\"\n                            autocomplete=\"billing postal-code\"\n                            aria-labelledby=\"billZipLabel billAddressHeading\">\n                        <shop-md-decorator error-message=\"Invalid Zip/Postal Code\" aria-hidden=\"true\">\n                          <label id=\"billZipLabel\">Zip/Postal Code</label>\n                          <shop-underline></shop-underline>\n                        </shop-md-decorator>\n                      </shop-input>\n                    </div>\n                    <div class=\"column\">\n                      <label id=\"billCountryLabel\" class=\"shop-select-label\">Country</label>\n                      <shop-select>\n                        <select id=\"billCountry\" name=\"billCountry\" required$=\"[[hasBillingAddress]]\"\n                            autocomplete=\"billing country\"\n                            aria-labelledby=\"billCountryLabel billAddressHeading\">\n                          <option value=\"US\" selected>United States</option>\n                          <option value=\"CA\">Canada</option>\n                        </select>\n                        <shop-md-decorator aria-hidden=\"true\">\n                          <shop-underline></shop-underline>\n                        </shop-md-decorator>\n                      </shop-select>\n                    </div>\n                  </div>\n                </section>\n\n                <section>\n                  <h2>Payment Method</h2>\n                  <div class=\"row input-row\">\n                    <shop-input>\n                      <input type=\"text\" id=\"ccName\" name=\"ccName\" pattern=\".{3,}\"\n                          placeholder=\"Cardholder Name\" required\n                          autocomplete=\"cc-name\">\n                      <shop-md-decorator error-message=\"Invalid Cardholder Name\" aria-hidden=\"true\">\n                        <label for=\"ccName\">Cardholder Name</label>\n                        <shop-underline></shop-underline>\n                      </shop-md-decorator>\n                    </shop-input>\n                  </div>\n                  <div class=\"row input-row\">\n                    <shop-input>\n                      <input type=\"tel\" id=\"ccNumber\" name=\"ccNumber\" pattern=\"[\\d\\s]{15,}\"\n                          placeholder=\"Card Number\" required\n                          autocomplete=\"cc-number\">\n                      <shop-md-decorator error-message=\"Invalid Card Number\" aria-hidden=\"true\">\n                        <label for=\"ccNumber\">Card Number</label>\n                        <shop-underline></shop-underline>\n                      </shop-md-decorator>\n                    </shop-input>\n                  </div>\n                  <div class=\"row input-row\">\n                    <div class=\"column\">\n                      <label for=\"ccExpMonth\">Expiry</label>\n                      <shop-select>\n                        <select id=\"ccExpMonth\" name=\"ccExpMonth\" required\n                             autocomplete=\"cc-exp-month\" aria-label=\"Expiry month\">\n                          <option value=\"01\" selected>Jan</option>\n                          <option value=\"02\">Feb</option>\n                          <option value=\"03\">Mar</option>\n                          <option value=\"04\">Apr</option>\n                          <option value=\"05\">May</option>\n                          <option value=\"06\">Jun</option>\n                          <option value=\"07\">Jul</option>\n                          <option value=\"08\">Aug</option>\n                          <option value=\"09\">Sep</option>\n                          <option value=\"10\">Oct</option>\n                          <option value=\"11\">Nov</option>\n                          <option value=\"12\">Dec</option>\n                        </select>\n                        <shop-md-decorator aria-hidden=\"true\">\n                          <shop-underline></shop-underline>\n                        </shop-md-decorator>\n                      </shop-select>\n                    </div>\n                    <shop-select>\n                      <select id=\"ccExpYear\" name=\"ccExpYear\" required\n                          autocomplete=\"cc-exp-year\" aria-label=\"Expiry year\">\n                        <option value=\"2016\" selected>2016</option>\n                        <option value=\"2017\">2017</option>\n                        <option value=\"2018\">2018</option>\n                        <option value=\"2019\">2019</option>\n                        <option value=\"2020\">2020</option>\n                        <option value=\"2021\">2021</option>\n                        <option value=\"2022\">2022</option>\n                        <option value=\"2023\">2023</option>\n                        <option value=\"2024\">2024</option>\n                        <option value=\"2025\">2025</option>\n                        <option value=\"2026\">2026</option>\n                      </select>\n                      <shop-md-decorator aria-hidden=\"true\">\n                        <shop-underline></shop-underline>\n                      </shop-md-decorator>\n                    </shop-select>\n                    <shop-input>\n                      <input type=\"tel\" id=\"ccCVV\" name=\"ccCVV\" pattern=\"\\d{3,4}\"\n                          placeholder=\"CVV\" required\n                          autocomplete=\"cc-csc\">\n                      <shop-md-decorator error-message=\"Invalid CVV\" aria-hidden=\"true\">\n                        <label for=\"ccCVV\">CVV</label>\n                        <shop-underline></shop-underline>\n                      </shop-md-decorator>\n                    </shop-input>\n                  </div>\n                  <h2>Order Summary</h2>\n                  <dom-repeat items=\"[[cart]]\" as=\"entry\">\n                    <template>\n                      <div class=\"row order-summary-row\">\n                        <div class=\"flex\">[[entry.item.title]]</div>\n                        <div>[[_getEntryTotal(entry)]]</div>\n                      </div>\n                    </template>\n                  </dom-repeat>\n                  <div class=\"row total-row\">\n                    <div class=\"flex\">Total</div>\n                    <div>[[_formatPrice(total)]]</div>\n                  </div>\n                  <shop-button responsive id=\"submitBox\">\n                    <input type=\"button\" on-click=\"_submit\" value=\"Place Order\">\n                  </shop-button>\n                </section>\n              </div>\n            </form>\n          </iron-form>\n        </div>\n\n        <!-- Success message UI -->\n        <header state=\"success\">\n          <h1>Thank you</h1>\n          <p>[[response.successMessage]]</p>\n          <shop-button responsive>\n            <a href=\"/\">Finish</a>\n          </shop-button>\n        </header>\n\n        <!-- Error message UI -->\n        <header state=\"error\">\n          <h1>We couldn&acute;t process your order</h1>\n          <p id=\"errorMessage\">[[response.errorMessage]]</p>\n          <shop-button responsive>\n            <a href=\"/checkout\">Try again</a>\n          </shop-button>\n        </header>\n\n      </iron-pages>\n\n    </div>\n\n    <!-- Handles the routing for the success and error subroutes -->\n    <app-route\n        active=\"{{routeActive}}\"\n        data=\"{{routeData}}\"\n        route=\"[[route]]\"\n        pattern=\"/:state\">\n     </app-route>\n\n    <!-- Show spinner when waiting for the server to repond -->\n    <paper-spinner-lite active=\"[[waiting]]\"></paper-spinner-lite>\n    "],["\n    <style include=\"shop-common-styles shop-button shop-form-styles shop-input shop-select shop-checkbox\">\n\n      .main-frame {\n        transition: opacity 0.5s;\n      }\n\n      :host([waiting]) .main-frame {\n        opacity: 0.1;\n      }\n\n      shop-input, shop-select {\n        font-size: 16px;\n      }\n\n      shop-select {\n        margin-bottom: 20px;\n      }\n\n      paper-spinner-lite {\n        position: fixed;\n        top: calc(50% - 14px);\n        left: calc(50% - 14px);\n      }\n\n      .billing-address-picker {\n        margin: 28px 0;\n        height: 20px;\n        @apply --layout-horizontal;\n      }\n\n      .billing-address-picker > label {\n        margin-left: 12px;\n      }\n\n      .grid {\n        margin-top: 40px;\n        @apply --layout-horizontal;\n      }\n\n      .grid > section {\n        @apply --layout-flex;\n      }\n\n      .grid > section:not(:first-child) {\n        margin-left: 80px;\n      }\n\n      .row {\n        @apply --layout-horizontal;\n        @apply --layout-end;\n      }\n\n      .column {\n        @apply --layout-vertical;\n      }\n\n      .row > .flex,\n      .input-row > * {\n        @apply --layout-flex;\n      }\n\n      .input-row > *:not(:first-child) {\n        margin-left: 8px;\n      }\n\n      .shop-select-label {\n        line-height: 20px;\n      }\n\n      .order-summary-row {\n        line-height: 24px;\n      }\n\n      .total-row {\n        font-weight: 500;\n        margin: 30px 0;\n      }\n\n      @media (max-width: 767px) {\n\n        .grid {\n          display: block;\n          margin-top: 0;\n        }\n\n        .grid > section:not(:first-child) {\n          margin-left: 0;\n        }\n\n      }\n\n    </style>\n\n    <div class=\"main-frame\">\n      <iron-pages id=\"pages\" selected=\"[[state]]\" attr-for-selected=\"state\">\n        <div state=\"init\">\n          <iron-form id=\"checkoutForm\"\n              on-iron-form-response=\"_didReceiveResponse\"\n              on-iron-form-presubmit=\"_willSendRequest\">\n            <form method=\"post\" action=\"data/sample_success_response.json\" enctype=\"application/x-www-form-urlencoded\">\n\n              <div class=\"subsection\" visible$=\"[[!_hasItems]]\">\n                <p class=\"empty-cart\">Your <iron-icon icon=\"shopping-cart\"></iron-icon> is empty.</p>\n              </div>\n\n              <header class=\"subsection\" visible$=\"[[_hasItems]]\">\n                <h1>Checkout</h1>\n                <span>Shop is a demo app - form data will not be sent</span>\n              </header>\n\n              <div class=\"subsection grid\" visible$=\"[[_hasItems]]\">\n                <section>\n                  <h2 id=\"accountInfoHeading\">Account Information</h2>\n                  <div class=\"row input-row\">\n                    <shop-input>\n                      <input type=\"email\" id=\"accountEmail\" name=\"accountEmail\"\n                          placeholder=\"Email\" autofocus required\n                          aria-labelledby=\"accountEmailLabel accountInfoHeading\">\n                      <shop-md-decorator error-message=\"Invalid Email\" aria-hidden=\"true\">\n                        <label id=\"accountEmailLabel\">Email</label>\n                        <shop-underline></shop-underline>\n                      </shop-md-decorator>\n                    </shop-input>\n                  </div>\n                  <div class=\"row input-row\">\n                    <shop-input>\n                      <input type=\"tel\" id=\"accountPhone\" name=\"accountPhone\" pattern=\"\\\\d{10,}\"\n                          placeholder=\"Phone Number\" required\n                          aria-labelledby=\"accountPhoneLabel accountInfoHeading\">\n                      <shop-md-decorator error-message=\"Invalid Phone Number\" aria-hidden=\"true\">\n                        <label id=\"accountPhoneLabel\">Phone Number</label>\n                        <shop-underline></shop-underline>\n                      </shop-md-decorator>\n                    </shop-input>\n                  </div>\n                  <h2 id=\"shipAddressHeading\">Shipping Address</h2>\n                  <div class=\"row input-row\">\n                    <shop-input>\n                      <input type=\"text\" id=\"shipAddress\" name=\"shipAddress\" pattern=\".{5,}\"\n                          placeholder=\"Address\" required\n                          aria-labelledby=\"shipAddressLabel shipAddressHeading\">\n                      <shop-md-decorator error-message=\"Invalid Address\" aria-hidden=\"true\">\n                        <label id=\"shipAddressLabel\">Address</label>\n                        <shop-underline></shop-underline>\n                      </shop-md-decorator>\n                    </shop-input>\n                  </div>\n                  <div class=\"row input-row\">\n                    <shop-input>\n                      <input type=\"text\" id=\"shipCity\" name=\"shipCity\" pattern=\".{2,}\"\n                          placeholder=\"City\" required\n                          aria-labelledby=\"shipCityLabel shipAddressHeading\">\n                      <shop-md-decorator error-message=\"Invalid City\" aria-hidden=\"true\">\n                        <label id=\"shipCityLabel\">City</label>\n                        <shop-underline></shop-underline>\n                      </shop-md-decorator>\n                    </shop-input>\n                  </div>\n                  <div class=\"row input-row\">\n                    <shop-input>\n                      <input type=\"text\" id=\"shipState\" name=\"shipState\" pattern=\".{2,}\"\n                          placeholder=\"State/Province\" required\n                          aria-labelledby=\"shipStateLabel shipAddressHeading\">\n                      <shop-md-decorator error-message=\"Invalid State/Province\" aria-hidden=\"true\">\n                        <label id=\"shipStateLabel\">State/Province</label>\n                        <shop-underline></shop-underline>\n                      </shop-md-decorator>\n                    </shop-input>\n                    <shop-input>\n                      <input type=\"text\" id=\"shipZip\" name=\"shipZip\" pattern=\".{4,}\"\n                          placeholder=\"Zip/Postal Code\" required\n                          aria-labelledby=\"shipZipLabel shipAddressHeading\">\n                      <shop-md-decorator error-message=\"Invalid Zip/Postal Code\" aria-hidden=\"true\">\n                        <label id=\"shipZipLabel\">Zip/Postal Code</label>\n                        <shop-underline></shop-underline>\n                      </shop-md-decorator>\n                    </shop-input>\n                  </div>\n                  <div class=\"column\">\n                    <label id=\"shipCountryLabel\" class=\"shop-select-label\">Country</label>\n                    <shop-select>\n                      <select id=\"shipCountry\" name=\"shipCountry\" required\n                          aria-labelledby=\"shipCountryLabel shipAddressHeading\">\n                        <option value=\"US\" selected>United States</option>\n                        <option value=\"CA\">Canada</option>\n                      </select>\n                      <shop-md-decorator aria-hidden=\"true\">\n                        <shop-underline></shop-underline>\n                      </shop-md-decorator>\n                    </shop-select>\n                  </div>\n                  <h2 id=\"billAddressHeading\">Billing Address</h2>\n                  <div class=\"billing-address-picker\">\n                    <shop-checkbox>\n                      <input type=\"checkbox\" id=\"setBilling\" name=\"setBilling\"\n                          checked$=\"[[hasBillingAddress]]\" on-change=\"_toggleBillingAddress\">\n                      <shop-md-decorator></shop-md-decorator aria-hidden=\"true\">\n                    </shop-checkbox>\n                    <label for=\"setBilling\">Use different billing address</label>\n                  </div>\n                  <div hidden$=\"[[!hasBillingAddress]]\">\n                    <div class=\"row input-row\">\n                      <shop-input>\n                        <input type=\"text\" id=\"billAddress\" name=\"billAddress\" pattern=\".{5,}\"\n                            placeholder=\"Address\" required$=\"[[hasBillingAddress]]\"\n                            autocomplete=\"billing street-address\"\n                            aria-labelledby=\"billAddressLabel billAddressHeading\">\n                        <shop-md-decorator error-message=\"Invalid Address\" aria-hidden=\"true\">\n                          <label id=\"billAddressLabel\">Address</label>\n                          <shop-underline></shop-underline>\n                        </shop-md-decorator>\n                      </shop-input>\n                    </div>\n                    <div class=\"row input-row\">\n                      <shop-input>\n                        <input type=\"text\" id=\"billCity\" name=\"billCity\" pattern=\".{2,}\"\n                            placeholder=\"City\" required$=\"[[hasBillingAddress]]\"\n                            autocomplete=\"billing address-level2\"\n                            aria-labelledby=\"billCityLabel billAddressHeading\">\n                        <shop-md-decorator error-message=\"Invalid City\" aria-hidden=\"true\">\n                          <label id=\"billCityLabel\">City</label>\n                          <shop-underline></shop-underline>\n                        </shop-md-decorator>\n                      </shop-input>\n                    </div>\n                    <div class=\"row input-row\">\n                      <shop-input>\n                        <input type=\"text\" id=\"billState\" name=\"billState\" pattern=\".{2,}\"\n                            placeholder=\"State/Province\" required$=\"[[hasBillingAddress]]\"\n                            autocomplete=\"billing address-level1\"\n                            aria-labelledby=\"billStateLabel billAddressHeading\">\n                        <shop-md-decorator error-message=\"Invalid State/Province\" aria-hidden=\"true\">\n                          <label id=\"billStateLabel\">State/Province</label>\n                          <shop-underline></shop-underline>\n                        </shop-md-decorator>\n                      </shop-input>\n                      <shop-input>\n                        <input type=\"text\" id=\"billZip\" name=\"billZip\" pattern=\".{4,}\"\n                            placeholder=\"Zip/Postal Code\" required$=\"[[hasBillingAddress]]\"\n                            autocomplete=\"billing postal-code\"\n                            aria-labelledby=\"billZipLabel billAddressHeading\">\n                        <shop-md-decorator error-message=\"Invalid Zip/Postal Code\" aria-hidden=\"true\">\n                          <label id=\"billZipLabel\">Zip/Postal Code</label>\n                          <shop-underline></shop-underline>\n                        </shop-md-decorator>\n                      </shop-input>\n                    </div>\n                    <div class=\"column\">\n                      <label id=\"billCountryLabel\" class=\"shop-select-label\">Country</label>\n                      <shop-select>\n                        <select id=\"billCountry\" name=\"billCountry\" required$=\"[[hasBillingAddress]]\"\n                            autocomplete=\"billing country\"\n                            aria-labelledby=\"billCountryLabel billAddressHeading\">\n                          <option value=\"US\" selected>United States</option>\n                          <option value=\"CA\">Canada</option>\n                        </select>\n                        <shop-md-decorator aria-hidden=\"true\">\n                          <shop-underline></shop-underline>\n                        </shop-md-decorator>\n                      </shop-select>\n                    </div>\n                  </div>\n                </section>\n\n                <section>\n                  <h2>Payment Method</h2>\n                  <div class=\"row input-row\">\n                    <shop-input>\n                      <input type=\"text\" id=\"ccName\" name=\"ccName\" pattern=\".{3,}\"\n                          placeholder=\"Cardholder Name\" required\n                          autocomplete=\"cc-name\">\n                      <shop-md-decorator error-message=\"Invalid Cardholder Name\" aria-hidden=\"true\">\n                        <label for=\"ccName\">Cardholder Name</label>\n                        <shop-underline></shop-underline>\n                      </shop-md-decorator>\n                    </shop-input>\n                  </div>\n                  <div class=\"row input-row\">\n                    <shop-input>\n                      <input type=\"tel\" id=\"ccNumber\" name=\"ccNumber\" pattern=\"[\\\\d\\\\s]{15,}\"\n                          placeholder=\"Card Number\" required\n                          autocomplete=\"cc-number\">\n                      <shop-md-decorator error-message=\"Invalid Card Number\" aria-hidden=\"true\">\n                        <label for=\"ccNumber\">Card Number</label>\n                        <shop-underline></shop-underline>\n                      </shop-md-decorator>\n                    </shop-input>\n                  </div>\n                  <div class=\"row input-row\">\n                    <div class=\"column\">\n                      <label for=\"ccExpMonth\">Expiry</label>\n                      <shop-select>\n                        <select id=\"ccExpMonth\" name=\"ccExpMonth\" required\n                             autocomplete=\"cc-exp-month\" aria-label=\"Expiry month\">\n                          <option value=\"01\" selected>Jan</option>\n                          <option value=\"02\">Feb</option>\n                          <option value=\"03\">Mar</option>\n                          <option value=\"04\">Apr</option>\n                          <option value=\"05\">May</option>\n                          <option value=\"06\">Jun</option>\n                          <option value=\"07\">Jul</option>\n                          <option value=\"08\">Aug</option>\n                          <option value=\"09\">Sep</option>\n                          <option value=\"10\">Oct</option>\n                          <option value=\"11\">Nov</option>\n                          <option value=\"12\">Dec</option>\n                        </select>\n                        <shop-md-decorator aria-hidden=\"true\">\n                          <shop-underline></shop-underline>\n                        </shop-md-decorator>\n                      </shop-select>\n                    </div>\n                    <shop-select>\n                      <select id=\"ccExpYear\" name=\"ccExpYear\" required\n                          autocomplete=\"cc-exp-year\" aria-label=\"Expiry year\">\n                        <option value=\"2016\" selected>2016</option>\n                        <option value=\"2017\">2017</option>\n                        <option value=\"2018\">2018</option>\n                        <option value=\"2019\">2019</option>\n                        <option value=\"2020\">2020</option>\n                        <option value=\"2021\">2021</option>\n                        <option value=\"2022\">2022</option>\n                        <option value=\"2023\">2023</option>\n                        <option value=\"2024\">2024</option>\n                        <option value=\"2025\">2025</option>\n                        <option value=\"2026\">2026</option>\n                      </select>\n                      <shop-md-decorator aria-hidden=\"true\">\n                        <shop-underline></shop-underline>\n                      </shop-md-decorator>\n                    </shop-select>\n                    <shop-input>\n                      <input type=\"tel\" id=\"ccCVV\" name=\"ccCVV\" pattern=\"\\\\d{3,4}\"\n                          placeholder=\"CVV\" required\n                          autocomplete=\"cc-csc\">\n                      <shop-md-decorator error-message=\"Invalid CVV\" aria-hidden=\"true\">\n                        <label for=\"ccCVV\">CVV</label>\n                        <shop-underline></shop-underline>\n                      </shop-md-decorator>\n                    </shop-input>\n                  </div>\n                  <h2>Order Summary</h2>\n                  <dom-repeat items=\"[[cart]]\" as=\"entry\">\n                    <template>\n                      <div class=\"row order-summary-row\">\n                        <div class=\"flex\">[[entry.item.title]]</div>\n                        <div>[[_getEntryTotal(entry)]]</div>\n                      </div>\n                    </template>\n                  </dom-repeat>\n                  <div class=\"row total-row\">\n                    <div class=\"flex\">Total</div>\n                    <div>[[_formatPrice(total)]]</div>\n                  </div>\n                  <shop-button responsive id=\"submitBox\">\n                    <input type=\"button\" on-click=\"_submit\" value=\"Place Order\">\n                  </shop-button>\n                </section>\n              </div>\n            </form>\n          </iron-form>\n        </div>\n\n        <!-- Success message UI -->\n        <header state=\"success\">\n          <h1>Thank you</h1>\n          <p>[[response.successMessage]]</p>\n          <shop-button responsive>\n            <a href=\"/\">Finish</a>\n          </shop-button>\n        </header>\n\n        <!-- Error message UI -->\n        <header state=\"error\">\n          <h1>We couldn&acute;t process your order</h1>\n          <p id=\"errorMessage\">[[response.errorMessage]]</p>\n          <shop-button responsive>\n            <a href=\"/checkout\">Try again</a>\n          </shop-button>\n        </header>\n\n      </iron-pages>\n\n    </div>\n\n    <!-- Handles the routing for the success and error subroutes -->\n    <app-route\n        active=\"{{routeActive}}\"\n        data=\"{{routeData}}\"\n        route=\"[[route]]\"\n        pattern=\"/:state\">\n     </app-route>\n\n    <!-- Show spinner when waiting for the server to repond -->\n    <paper-spinner-lite active=\"[[waiting]]\"></paper-spinner-lite>\n    "]);_templateObject_1c67f9e0e6b711e88442374e90ff027e=function(){return data};return data}var $_documentContainer=document.createElement("template");$_documentContainer.innerHTML="<dom-module id=\"shop-checkbox\">\n  <template>\n    <style>\n\n      shop-checkbox {\n        display: inline-block;\n        width: 14px;\n        height: 14px;\n        position: relative;\n        border: 2px solid var(--app-accent-color);\n        border-radius: 2px;\n      }\n\n      shop-checkbox > input[type=checkbox] {\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        margin: 0;\n        opacity: 0;\n      }\n\n      shop-checkbox > shop-md-decorator {\n        pointer-events: none;\n      }\n\n      /* Checked state overlay */\n      shop-checkbox > shop-md-decorator::after {\n        content: '';\n        position: absolute;\n        top: -5px;\n        left: -5px;\n        right: -5px;\n        bottom: -5px;\n        background-image: url('data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%2024%2024%22%3E%3Cpath%20fill%3D%22%23172C50%22%20d%3D%22M19%203H5c-1.11%200-2%20.9-2%202v14c0%201.1.89%202%202%202h14c1.11%200%202-.9%202-2V5c0-1.1-.89-2-2-2zm-9%2014l-5-5%201.41-1.41L10%2014.17l7.59-7.59L19%208l-9%209z%22%2F%3E%3C%2Fsvg%3E');\n        opacity: 0;\n        transition: opacity 0.1s;\n        will-change: opacity;\n      }\n\n      shop-checkbox > input[type=checkbox]:checked + shop-md-decorator::after {\n        opacity: 1;\n      }\n\n      /* Focused state */\n      shop-checkbox > shop-md-decorator::before {\n        content: '';\n        pointer-events: none;\n        position: absolute;\n        top: -13px;\n        left: -13px;\n        width: 40px;\n        height: 40px;\n        background-color: var(--app-accent-color);\n        border-radius: 50%;\n        opacity: 0.2;\n        -webkit-transform: scale3d(0, 0, 0);\n        transform: scale3d(0, 0, 0);\n        transition: -webkit-transform 0.1s;\n        transition: transform 0.1s;\n        will-change: transform;\n      }\n\n      shop-checkbox > input[type=checkbox]:focus + shop-md-decorator::before {\n        -webkit-transform: scale3d(1, 1, 1);\n        transform: scale3d(1, 1, 1);\n      }\n\n    </style>\n  </template>\n</dom-module>";document.head.appendChild($_documentContainer.content);var $_documentContainer$1=document.createElement("template");$_documentContainer$1.innerHTML="<dom-module id=\"shop-input\">\n  <template>\n    <style>\n\n      shop-input {\n        display: inline-block;\n        margin: 20px 0;\n      }\n\n      shop-input > input::-webkit-input-placeholder {\n        color: transparent;\n      }\n\n      shop-input > input::-moz-placeholder {\n        color: transparent;\n      }\n\n      shop-input > input:-ms-input-placeholder {\n        color: transparent;\n      }\n\n      shop-input > input::-ms-input-placeholder {\n        color: transparent;\n      }\n\n      shop-input > input {\n        font-size: 1em;\n        font-weight: 300;\n        color: var(--app-primary-color);\n        border: none;\n        padding: 8px 0;\n        width: 100%;\n        outline: none;\n      }\n\n      shop-input > input:invalid {\n        /* reset the default style in FF */\n        box-shadow: none;\n      }\n\n      shop-input > shop-md-decorator {\n        display: block;\n        height: 1px;\n        width: 100%;\n        margin: auto;\n        border-top: 1px solid #ccc;\n        position: relative;\n        -webkit-transform: translateZ(0);\n        transform: translateZ(0);\n      }\n\n      shop-input shop-underline {\n        display: block;\n        height: 2px;\n        width: 100%;\n        margin: auto;\n        background-color: var(--app-accent-color);\n        position: absolute;\n        top: -1px;\n        left: 0;\n        -webkit-transform: scale3d(0, 1, 1);\n        transform: scale3d(0, 1, 1);\n        transition: -webkit-transform 0.2s ease-in;\n        transition: transform 0.2s ease-in;\n      }\n\n      /* input label */\n      shop-input > shop-md-decorator > label {\n        display: block;\n        pointer-events: none;\n        opacity: 0.5;\n        white-space: nowrap;\n        text-overflow: ellipsis;\n        overflow: hidden;\n        -webkit-transform-origin: 0 0;\n        transform-origin: 0 0;\n        transition-property: opacity, -webkit-transform;\n        transition-property: opacity, transform;\n        transition-duration: 0.15s;\n        transition-timing-function: ease-out;\n        will-change: transform;\n        -webkit-transform: translate3d(0px, -1.9em, 0px);\n        transform: translate3d(0px, -1.9em, 0px);\n      }\n\n      /* Error message */\n      shop-input > shop-md-decorator::after {\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        font-size: 0.65em;\n        color: #dd2c00;\n        content: attr(error-message);\n        display: none;\n        white-space: nowrap;\n      }\n\n      shop-input > input:focus + shop-md-decorator > shop-underline {\n        -webkit-transform: scale3d(1, 1, 1);\n        transform: scale3d(1, 1, 1);\n        transition: -webkit-transform 0.2s ease-out;\n        transition: transform 0.2s ease-out;\n      }\n\n      /* Label: valid state */\n      shop-input > input:focus + shop-md-decorator > label {\n        -webkit-transform: translate3d(0px, -3.4em, 0px) scale(0.8, 0.8);\n        transform: translate3d(0px, -3.4em, 0px) scale(0.8, 0.8);\n        opacity: 1;\n      }\n\n      shop-input > input:optional:not(:placeholder-shown) + shop-md-decorator > label {\n        -webkit-transform: translate3d(0px, -3.4em, 0px) scale(0.8, 0.8);\n        transform: translate3d(0px, -3.4em, 0px) scale(0.8, 0.8);\n        opacity: 1;\n      }\n\n      _:-ms-lang(x), shop-input > input + shop-md-decorator > label {\n        -webkit-transform: translate3d(0px, -3.4em, 0px) scale(0.8, 0.8);\n        transform: translate3d(0px, -3.4em, 0px) scale(0.8, 0.8);\n        opacity: 1;\n      }\n\n      shop-input > input:optional:-moz-ui-valid + shop-md-decorator > label {\n        -webkit-transform: translate3d(0px, -3.4em, 0px) scale(0.8, 0.8);\n        transform: translate3d(0px, -3.4em, 0px) scale(0.8, 0.8);\n        opacity: 1;\n      }\n\n      /* Underline */\n      shop-input > input:not(:focus):not(:placeholder-shown):invalid + shop-md-decorator > shop-underline {\n        background-color: #dd2c00;\n        -webkit-transform: scale3d(1, 1, 1);\n        transform: scale3d(1, 1, 1);\n        transition: -webkit-transform 0.2s ease-out;\n        transition: transform 0.2s ease-out;\n      }\n\n      shop-input > input:not(:focus):-moz-ui-invalid:invalid + shop-md-decorator > shop-underline {\n        background-color: #dd2c00;\n        -webkit-transform: scale3d(1, 1, 1);\n        transform: scale3d(1, 1, 1);\n        transition: -webkit-transform 0.2s ease-out;\n        transition: transform 0.2s ease-out;\n      }\n\n      shop-input > input[aria-invalid='true']:not(:valid) + shop-md-decorator > shop-underline {\n        background-color: #dd2c00;\n        -webkit-transform: scale3d(1, 1, 1);\n        transform: scale3d(1, 1, 1);\n        transition: -webkit-transform 0.2s ease-out;\n        transition: transform 0.2s ease-out;\n      }\n\n      /* Error message */\n      shop-input > input:not(:focus):not(:placeholder-shown):invalid + shop-md-decorator::after {\n        display: block;\n      }\n\n      shop-input > input:not(:focus):-moz-ui-invalid:invalid + shop-md-decorator::after {\n        display: block;\n      }\n\n      shop-input > input[aria-invalid='true']:not(:valid) + shop-md-decorator::after {\n        display: block;\n      }\n\n      /* Error label */\n      shop-input > input:not(:focus):not(:placeholder-shown):invalid + shop-md-decorator > label {\n        -webkit-transform: translate3d(0px, -3.4em, 0px) scale(0.8, 0.8);\n        transform: translate3d(0px, -3.4em, 0px) scale(0.8, 0.8);\n        opacity: 1;\n        color: #dd2c00;\n      }\n\n      shop-input > input:not(:focus):-moz-ui-invalid:invalid + shop-md-decorator > label {\n        -webkit-transform: translate3d(0px, -3.4em, 0px) scale(0.8, 0.8);\n        transform: translate3d(0px, -3.4em, 0px) scale(0.8, 0.8);\n        opacity: 1;\n        color: #dd2c00;\n      }\n\n      shop-input > input[aria-invalid='true']:not(:valid) + shop-md-decorator > label {\n        -webkit-transform: translate3d(0px, -3.4em, 0px) scale(0.8, 0.8);\n        transform: translate3d(0px, -3.4em, 0px) scale(0.8, 0.8);\n        opacity: 1;\n        color: #dd2c00;\n      }\n\n      /* Valid label */\n      shop-input > input:not(:focus):required:valid + shop-md-decorator > label {\n        -webkit-transform: translate3d(0px, -3.4em, 0px) scale(0.8, 0.8);\n        transform: translate3d(0px, -3.4em, 0px) scale(0.8, 0.8);\n        opacity: 1;\n      }\n\n    </style>\n  </template>\n</dom-module>";document.head.appendChild($_documentContainer$1.content);var ShopCheckout=function(_PolymerElement){babelHelpers.inherits(ShopCheckout,_PolymerElement);function ShopCheckout(){babelHelpers.classCallCheck(this,ShopCheckout);return babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(ShopCheckout).apply(this,arguments))}babelHelpers.createClass(ShopCheckout,[{key:"_submit",value:function _submit(){var _this=this;if(this._validateForm()){this.$.checkoutForm.dispatchEvent(new CustomEvent("iron-form-presubmit",{composed:!0}));this._submitFormDebouncer=_shopApp.Debouncer.debounce(this._submitFormDebouncer,_shopApp.timeOut.after(1e3),function(){_this.$.checkoutForm.dispatchEvent(new CustomEvent("iron-form-response",{composed:!0,detail:{response:{success:1,successMessage:"Demo checkout process complete."}}}))})}}},{key:"_pushState",value:function _pushState(state){this._validState=state;this.set("route.path",state)}},{key:"_updateState",value:function _updateState(active,routeData){if(active&&routeData){var state=routeData.state;if(this._validState===state){this.state=state;this._validState="";return}}this.state="init"}},{key:"_reset",value:function _reset(){var form=this.$.checkoutForm;this._setWaiting(!1);form.reset&&form.reset();var nativeForm=form._form;if(!nativeForm){return}for(var el,i=0;el=nativeForm.elements[i],i<nativeForm.elements.length;i++){el.removeAttribute("aria-invalid")}}},{key:"_validateForm",value:function _validateForm(){for(var form=this.$.checkoutForm,firstInvalid=!1,nativeForm=form._form,el,i=0;el=nativeForm.elements[i],i<nativeForm.elements.length;i++){if(el.checkValidity()){el.removeAttribute("aria-invalid")}else{if(!firstInvalid){if(el.nextElementSibling){this.dispatchEvent(new CustomEvent("announce",{bubbles:!0,composed:!0,detail:el.nextElementSibling.getAttribute("error-message")}))}if(el.scrollIntoViewIfNeeded){el.scrollIntoViewIfNeeded()}else{el.scrollIntoView(!1)}el.focus();firstInvalid=!0}el.setAttribute("aria-invalid","true")}}return!firstInvalid}},{key:"_willSendRequest",value:function _willSendRequest(e){var form=e.target,body=form.request&&form.request.body;this._setWaiting(!0);if(!body){return}body.cartItemsId=[];body.cartItemsQuantity=[];this.cart.forEach(function(cartItem){body.cartItemsId.push(cartItem.item.name);body.cartItemsQuantity.push(cartItem.quantity)})}},{key:"_didReceiveResponse",value:function _didReceiveResponse(e){var response=e.detail.response;this.response=response;this._setWaiting(!0);if(response.success){this._pushState("success");this._reset();this.dispatchEvent(new CustomEvent("clear-cart",{bubbles:!0,composed:!0}))}else{this._pushState("error")}}},{key:"_toggleBillingAddress",value:function _toggleBillingAddress(e){this.hasBillingAddress=e.target.checked;if(this.hasBillingAddress){this.$.billAddress.focus()}}},{key:"_computeHasItem",value:function _computeHasItem(cartLength){return 0<cartLength}},{key:"_formatPrice",value:function _formatPrice(total){return isNaN(total)?"":"$"+total.toFixed(2)}},{key:"_getEntryTotal",value:function _getEntryTotal(entry){return this._formatPrice(entry.quantity*entry.item.price)}},{key:"_visibleChanged",value:function _visibleChanged(visible){if(!visible){return}this._reset();this.dispatchEvent(new CustomEvent("change-section",{bubbles:!0,composed:!0,detail:{title:"Checkout"}}))}}],[{key:"template",get:function get(){return(0,_shopApp.html)(_templateObject_1c67f9e0e6b711e88442374e90ff027e())}},{key:"is",get:function get(){return"shop-checkout"}},{key:"properties",get:function get(){return{route:{type:Object,notify:!0},total:Number,state:{type:String,value:"init"},cart:Array,response:Object,hasBillingAddress:{type:Boolean,value:!1},visible:{type:Boolean,observer:"_visibleChanged"},waiting:{type:Boolean,readOnly:!0,reflectToAttribute:!0},_hasItems:{type:Boolean,computed:"_computeHasItem(cart.length)"}}}},{key:"observers",get:function get(){return["_updateState(routeActive, routeData)"]}}]);return ShopCheckout}(_shopApp.PolymerElement);customElements.define(ShopCheckout.is,ShopCheckout)});