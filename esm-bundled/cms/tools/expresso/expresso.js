import{Setter}from"../cms-element-set.js";export class expresso extends Setter{constructor(){super();this.set={}}target(Evt,method,callback,TitleLang){this.Evt=Evt;if(!1===("boolean"===typeof TitleLang)&&TitleLang!==void 0){console.info("Booleans only please",TitleLang+" not Boolean",Evt,method);return}if(!1===this.Evt in this.set&&this.Evt!==void 0){this.set[this.Evt]={arr:{},set:!1};this.set[this.Evt].arr[method]={methods:[],TitleLang:TitleLang};this.set[this.Evt].assets=this.getAssets(this.Evt);this.set[this.Evt].arr[method].count=0}if(!1===method in this.set[this.Evt].arr){this.set[this.Evt].arr[method]={methods:[],TitleLang:TitleLang};this.set[this.Evt].arr[method].count=0}this.set[this.Evt].arr[method].methods.push(callback);this.set[this.Evt].arr[method].count++}shoot(evt,method,lang){this.method=method;this.lang=lang===void 0||""===lang?this.lang:lang;if(evt===void 0){for(let par in this.set){this.Evt=par;this.trigger(this.Evt)}}else{this.Evt=evt;this.trigger(this.Evt)}}trigger(){let method=this.method;this.Evt=arguments[0]||this.Evt;if("setLangObject"===method){this.set[this.Evt].arr[method].methods.map(func=>{this.set[this.Evt].assets.then(querySnapshot=>{func(this[method],querySnapshot)}).catch(function(error){console.error("Error reteaving assets: ",error)})})}if("changeLang"===method){this.set[this.Evt].arr[method].methods.map(func=>{if(!1===this.set[this.Evt].arr[method].TitleLang){func(this[method],this.lang)}else{func(this.changeItemTitleLang,this.lang)}})}return 0}}window.MyAppGlobals.translator=new expresso;