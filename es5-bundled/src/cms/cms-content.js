define(["require","./cms-login.js"],function(_require,_cmsLogin){"use strict";_require=babelHelpers.interopRequireWildcard(_require);var __DEV=!0,_DBW=new _cmsLogin.dataBaseworker,_STYLES=_DBW.getElementAssets("cms-content",!0),cmsContent=function(_cmsTopPageTemplate){babelHelpers.inherits(cmsContent,_cmsTopPageTemplate);function cmsContent(){babelHelpers.classCallCheck(this,cmsContent);return babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(cmsContent).apply(this,arguments))}babelHelpers.createClass(cmsContent,[{key:"ready",value:function ready(){var _this=this;babelHelpers.get(babelHelpers.getPrototypeOf(cmsContent.prototype),"ready",this).call(this);_STYLES.then(function(querySnapshot){var style=querySnapshot.data();_this._setLangObject(style)}).catch(function(error){console.error("Error reteaving assets: ",error)});this._routePageChanged(this.routeData,0);(0,_cmsLogin.scroll)({top:0,behavior:"silent"})}},{key:"__changeLang",value:function __changeLang(){var _this2=this;try{if(this.langs[this.lang]){(function(){var obj=_this2.langs[_this2.lang],_loop=function _loop(par){if(!0===!!_this2[par]){console.log(_this2[par],_this2.langs[_this2.lang][par],_this2[par]===_this2.langs[_this2.lang][par]);setTimeout(function(){_this2.set(par,obj[par])},60)}else{setTimeout(function(){_this2.set(par,"");_this2.set(par,obj[par])},60)}};for(var par in obj){_loop(par)}})()}}catch(err){console.error(err)}}},{key:"_setLangObject",value:function _setLangObject(langs){try{for(var par in langs){if("styles"!==par){this.langs[par]=langs[par].pop()}}this.__changeLang()}catch(err){console.error(err)}}},{key:"_routePageChanged",value:function _routePageChanged(page,query){if("/content"===this.route.prefix){if(page!==void 0&&"page"in page){if(-1!==["articles","pages","search"].indexOf(page.page)){this.page=page.page}else{console.log("view404",page,query)}}else{this.page="search"}}}},{key:"_pageChanged",value:function _pageChanged(page){if(page!==void 0){if("pages"===page){new Promise(function(res,rej){return _require.default(["./cms-page-viewer.js"],res,rej)}).then(function(bundle){return bundle&&bundle.$cmsPageViewer||{}}).then(function(module){return}).catch(function(error){console.log(error)});return}if("articles"===page){new Promise(function(res,rej){return _require.default(["./cms-articles-viewer.js"],res,rej)}).then(function(bundle){return bundle&&bundle.$cmsArticlesViewer||{}});return}if("view404"===page){new Promise(function(res,rej){return _require.default(["../shop-404-warning.js"],res,rej)}).then(function(bundle){return bundle&&bundle.$shop$404Warning||{}});return}}}}],[{key:"is",get:function get(){return"cms-content"}},{key:"properties",get:function get(){return{user:{type:Object,notify:!0},page:{type:String,reflectToAttribute:!0,observer:"_pageChanged"},lang:{type:String,notify:!0,observer:"__changeLang"},langs:{type:Object,value:{}},search:{type:Boolean,computed:"_checkMyName(page, \"search\")"},pages:{type:Boolean,computed:"_checkMyName(page, \"pages\")"},articles:{type:Boolean,computed:"_checkMyName(page, \"articles\")"}}}},{key:"observers",get:function get(){return["_routePageChanged(routeData, query)"]}}]);return cmsContent}(_cmsLogin.cmsTopPageTemplate);customElements.define(cmsContent.is,cmsContent)});