define(["require","./cms-login.js"],function(_require,_cmsLogin){"use strict";_require=babelHelpers.interopRequireWildcard(_require);function _templateObject_77cdfd70615e11eab834b97a903770ac(){var data=babelHelpers.taggedTemplateLiteral(["\n      <a href=\"[[_getStr(page)]][[_queryContent(index, page)]]\">  \n          <paper-button  aria-label=\"Go back page\">                   \n          [[_getPage(page)]]\n          </paper-button>               \n      </a>     \n  "]);_templateObject_77cdfd70615e11eab834b97a903770ac=function _templateObject_77cdfd70615e11eab834b97a903770ac(){return data};return data}var cmsContent=/*#__PURE__*/function(_cmsTopPageTemplate){babelHelpers.inherits(cmsContent,_cmsTopPageTemplate);function cmsContent(){babelHelpers.classCallCheck(this,cmsContent);return babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(cmsContent).apply(this,arguments))}babelHelpers.createClass(cmsContent,[{key:"ready",value:function ready(){babelHelpers.get(babelHelpers.getPrototypeOf(cmsContent.prototype),"ready",this).call(this);this.translator.target("cms-content","setLangObject",this._setLObj.bind(this));this.translator.target("cms-content","changeLang",this._setLang.bind(this),/* ignoreName */ /* ignoreName */!1/* skipSlots */ /* skipSlots */);this.translator.shoot("cms-content","setLangObject")}},{key:"_setLObj",value:function _setLObj(res,querySnapshot){if("data"in querySnapshot){var langs=querySnapshot.data();res.call(this,langs)}}},{key:"_setLang",value:function _setLang(res,lang){this.lang=lang;res.call(this);this.set("breadcrumbs",[]);if(0<this.breadcrumbs.length){this.setBreadcrumbs(this.route,this.routeData)}}},{key:"__changeLang",value:function __changeLang(){this.lang=this.translator.lang;this.translator.changeLang.call(this);this.setBreadcrumbs(this.route,this.routeData)}},{key:"_routePageChanged",value:function _routePageChanged(route,page,query){if(!!route)if("/content"===route.prefix){if(0<this.breadcrumbs.length){this.setBreadcrumbs(this.route,this.routeData)}if(!!page){if(-1!==["articles","pages"].indexOf(page)){this.page=page}}if("/"===route.path)if(!!query.reset){this.query={};window.history.pushState({},null,"".concat(this.rootPath,"content/"));window.dispatchEvent(new CustomEvent("location-changed"))}}}},{key:"setBreadcrumbs",value:function setBreadcrumbs(route,routeData){var _this=this;this.set("breadcrumbs",[]);if("number"===typeof this.time)clearTimeout(this.time);this.time=setTimeout(function(){if(!routeData.page){var arr2=[];_this.page="home";arr2.push("cmshome");_this.set("breadcrumbs",arr2)}if(!!routeData&&!!routeData.page){if(-1!==["articles","pages","search"].indexOf(routeData.page)){var _arr=["cmshome"];_this.set("breadcrumbs",_arr)}if(-1!==["/pages/edit-category-pages","/pages/add-category-pages","/pages/subcategory-pages"].indexOf(route.path)){var _arr2=["cmshome","/content/pages"];_this.set("breadcrumbs",_arr2)}if(-1!==["/pages/edit-subcategory-pages","/pages/add-subcategory-pages"].indexOf(route.path)){var _arr3=["cmshome","/content/pages","/content/pages/subcategory-pages"];_this.set("breadcrumbs",_arr3)}if(-1!==["/articles/edit-article","/articles/add-article"].indexOf(route.path)){var _arr4=["cmshome","/content/articles"];_this.set("breadcrumbs",_arr4)}}},120)}},{key:"_getStr",value:function _getStr(item){var str="";str="/content"===item?"".concat(item,"/"):"".concat(item);return str}},{key:"_queryContent",value:function _queryContent(index){if(1<index)return"?content=".concat(this.query.content,"&reset=false&update=").concat(this.query.content)}},{key:"_getPage",value:function _getPage(item){var word,final;if("cmshome"===item){word=item.split("");word[0]=word[0].toUpperCase();word=word.join("");this.translator.changeItemTitleLang.call(this,word.toString(),"word")}else{word=item.split("/");word.shift();word=word.pop();word=word.split("");word[0]=word[0].toUpperCase();word=word.join("");final="Subcategory-pages"===word?"SubcategoryPages":word;this.translator.changeItemTitleLang.call(this,final.toString(),"word");/**/}return this.word}},{key:"_pageChanged",value:function _pageChanged(page){if(page!==void 0){if("pages"===page){new Promise(function(res,rej){return _require.default(["./pages/cms-page-viewer.js"],res,rej)}).then(function(bundle){return bundle&&bundle.$cmsPageViewer||{}});return}if("articles"===page){new Promise(function(res,rej){return _require.default(["./articles/cms-article-view.js"],res,rej)}).then(function(bundle){return bundle&&bundle.$cmsArticleView||{}});return}if("view404"===page){new Promise(function(res,rej){return _require.default(["./cms-404-warning.js"],res,rej)}).then(function(bundle){return bundle&&bundle.$cms$404Warning||{}});return}}}}],[{key:"topTitle",get:function get(){return(0,_cmsLogin.html)(_templateObject_77cdfd70615e11eab834b97a903770ac())}},{key:"is",get:function get(){return"cms-content"}},{key:"properties",get:function get(){return{user:{type:Object,notify:!0/* skipSlots */},page:{type:String,reflectToAttribute:!0,observer:"_pageChanged"},translator:{type:Object,notify:!0,value:function value(){return MyAppGlobals[window.cms];//MyAppGlobals.translator
}},lang:{type:String,notify:!0,observer:"__changeLang"},langs:{type:Object,value:{}},breadcrumbs:{type:Array,notify:!0,value:[]}}}},{key:"observers",get:function get(){return["_routePageChanged(route, routeData.page , query)"]}}]);return cmsContent}(_cmsLogin.cmsTopPageTemplate);customElements.define(cmsContent.is,cmsContent)});