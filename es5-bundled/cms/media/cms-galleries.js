define(["../cms-login.js"],function(_cmsLogin){"use strict";function _templateObject6_b7d662e083c411e9b65ecdd08bafc34e(){var data=babelHelpers.taggedTemplateLiteral(["\n        <dom-repeat repeat items=\"[[inform]]\" as=\"detail\">\n            <template>\n                <div class=\"flexsidecenter\">\n                    <aside>\n                        <span>\n                            [[info]]\n                        </span>\n                    </aside>\n                </div>\n                <div class=\"navsideleft\">\n                    <aside>\n                        <span>\n                        [[GalleryCount]]\n                        </span>\n                    </aside>\n                    <aside>\n                        <span>\n                        [[imageCount]]\n                        </span>\n                    </aside>\n                </div>\n                <div class=\"navsideright\">\n                    <aside>\n                        <span>\n                        <b> [[detail.GalleryCount]] </b>\n                        </span>\n                    </aside>\n                    <aside>\n                        <span>\n                        <b> [[detail.imageCount]] </b>\n                        </span>\n                    </aside>\n                </div>\n            </template>\n        </dom-repeat>\n        "]);_templateObject6_b7d662e083c411e9b65ecdd08bafc34e=function _templateObject6_b7d662e083c411e9b65ecdd08bafc34e(){return data};return data}function _templateObject5_b7d662e083c411e9b65ecdd08bafc34e(){var data=babelHelpers.taggedTemplateLiteral(["\n        <dom-repeat items=\"[[galleries]]\" as=\"gallery\">\n            <template>                \n                <cms-gallery-item \n                    route=\"{{route}}\" \n                    gallery=\"[[gallery]]\" \n                    images=\"{{images}}\" \n                    add-image-to=\"[[addImageTo]]\"\n                    query=\"[[query]]\"\n                    return-path=\"{{returnPath}}\"> \n                </cms-gallery-item>\n            </template>\n        </dom-repeat>\n        "]);_templateObject5_b7d662e083c411e9b65ecdd08bafc34e=function _templateObject5_b7d662e083c411e9b65ecdd08bafc34e(){return data};return data}function _templateObject4_b7d662e083c411e9b65ecdd08bafc34e(){var data=babelHelpers.taggedTemplateLiteral(["\n        <section class=\"flexchildbotom noFlex\">\n            <div class=\"center\">\n                <h4> [[Gallery]] </h4>\n            </div>\n        </section>    \n        <section class=\"flexchildbotom noFlex\">\n            <div class=\"center\">\n                <h4> [[viewEdit]] </h4>\n            </div>\n        </section>                       \n        <section class=\"flexchildbotom noFlex\">\n            <div class=\"center\">\n                <h4> [[remove]] </h4>\n            </div>\n        </section>  \n        "]);_templateObject4_b7d662e083c411e9b65ecdd08bafc34e=function _templateObject4_b7d662e083c411e9b65ecdd08bafc34e(){return data};return data}function _templateObject3_b7d662e083c411e9b65ecdd08bafc34e(){var data=babelHelpers.taggedTemplateLiteral(["\n        <iron-selector selected=\"[[page]]\" attr-for-selected=\"id\" class=\"drawer-list\" role=\"navigation\">\n            <a id=\"reset\" href=\"[[rootPath]]media/\">\n            </a>\n        </iron-selector>\n        "]);_templateObject3_b7d662e083c411e9b65ecdd08bafc34e=function _templateObject3_b7d662e083c411e9b65ecdd08bafc34e(){return data};return data}function _templateObject2_b7d662e083c411e9b65ecdd08bafc34e(){var data=babelHelpers.taggedTemplateLiteral([" \n            <a href=\"[[rootPath]]media/images/add-gallery\">\n                <paper-tab name=\" add-category-pages\">\n                [[ADD]] [[Galleries]]\n                    <paper-icon-button-light>\n                        <iron-icon icon=\"av:library-add\" aria-label=\"categories\"></iron-icon>\n                    </paper-icon-button-light>\n                </paper-tab>\n            </a>"]);_templateObject2_b7d662e083c411e9b65ecdd08bafc34e=function _templateObject2_b7d662e083c411e9b65ecdd08bafc34e(){return data};return data}function _templateObject_b7d662e083c411e9b65ecdd08bafc34e(){var data=babelHelpers.taggedTemplateLiteral(["\n        <style>    \n        :host {\n            position: relative;\n            display: block;\n        } \n                /* styles reside in cms-content*/\n        </style>        \n\n        <slot name=\"table\"></slot> \n            "]);_templateObject_b7d662e083c411e9b65ecdd08bafc34e=function _templateObject_b7d662e083c411e9b65ecdd08bafc34e(){return data};return data}var Consts=new _cmsLogin.Setter,cmsGalleryItem=/*#__PURE__*/function(_cmsItemTemplate){babelHelpers.inherits(cmsGalleryItem,_cmsItemTemplate);function cmsGalleryItem(){babelHelpers.classCallCheck(this,cmsGalleryItem);return babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(cmsGalleryItem).apply(this,arguments))}babelHelpers.createClass(cmsGalleryItem,[{key:"ready",value:function ready(){babelHelpers.get(babelHelpers.getPrototypeOf(cmsGalleryItem.prototype),"ready",this).call(this)}},{key:"_putRow",value:function _putRow(data){var template="\n            <article centerListItem slot=\"table\">\n                <div>\n                    <span> \n                        <paper-button>\n                            ".concat(this._getGalleryName(data.content[0]),"\n                        </paper-button>\n                    </span>\n                </div>\n                <div>\n                    <paper-button>\n                        <paper-icon-button icon=\"image:remove-red-eye\" aria-label=\"mode-show\"></paper-icon-button>                   \n                        <paper-icon-button  icon=\"editor:mode-edit\" aria-label=\"mode-edit\"></paper-icon-button>\n                    </paper-button>\n                </div> \n                <div>\n                    <paper-icon-button icon=\"av:not-interested\" aria-label=\"mode-delete\">\n                    </paper-icon-button>      \n                </div>\n            </article>");this.translator.template.innerHTML=template;this.translator.clone(this);this.children[this.childElementCount-1].children[1].children[0].addEventListener("click",this._showImages.bind(this));this.children[this.childElementCount-1].children[2].children[0].addEventListener("click",this._openConfirm.bind(this));this.children[this.childElementCount-1].children[2].children[0].setAttribute("id","item-"+(this.childElementCount-1))}},{key:"_getGalleryName",value:function _getGalleryName(gall){return gall.gallery}},{key:"_showImages",value:function _showImages(){this.set("images",[]);this.set("images",this.gallery);this.default();if(this[this.addImageTo]!==void 0){this[this.addImageTo]()}}},{key:"default",value:function _default(){window.history.pushState({},null,"/media/images/view-images".concat(location.search));window.dispatchEvent(new CustomEvent("location-changed"))}},{key:"editArticles",value:function editArticles(){this.set("returnPath","content/articles/edit-articles")}},{key:"editPages",value:function editPages(){this.set("returnPath","content/pages/add-category-pages")}},{key:"deleteGallerie",value:function deleteGallerie(data){console.log(this.gallery.content[data]);/* Consts._DBW.deleteMediaGallery((done, err) => {
                                                  if (done !== 'error') {
                                                      this.setter = true
                                                  } else {
                                                      console.error(err)
                                                  }
                                              }, data)*/}},{key:"_openConfirm",value:function _openConfirm(event){var _this=this,index=event.srcElement.id.split("-").pop();this._changeSectionDebouncer=_cmsLogin.Debouncer.debounce(this._changeSectionDebouncer,_cmsLogin.microTask,function(){_this.dispatchEvent(new CustomEvent("confirm",{bubbles:!0,composed:!0,detail:{name:_this._getGalleryName(_this.gallery.content[0]),method:_this.deleteGallerie.bind(_this),argument:index,headderMsgKind:"delete",type:"gallery"}}))})}}],[{key:"template",get:function get(){return(0,_cmsLogin.html)(_templateObject_b7d662e083c411e9b65ecdd08bafc34e())}},{key:"is",get:function get(){return"cms-gallery-item"}},{key:"properties",get:function get(){return{add:{type:Boolean,notify:!0},translator:{type:Object,notify:!0,value:function value(){return MyAppGlobals.translator}},images:{type:Array,notify:!0},query:String,returnPath:{type:String,notify:!0},addImageTo:{type:String,notify:!0,value:{}},gallery:{type:Array,notify:!0,observer:"_putRow"},noItem:{type:Array,value:[{url:[]}]}}}}]);return cmsGalleryItem}(_cmsLogin.cmsItemTemplate);customElements.define(cmsGalleryItem.is,cmsGalleryItem);var cmsGalleries=/*#__PURE__*/function(_cmsMiddlePageTemplat){babelHelpers.inherits(cmsGalleries,_cmsMiddlePageTemplat);function cmsGalleries(){babelHelpers.classCallCheck(this,cmsGalleries);return babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(cmsGalleries).apply(this,arguments))}babelHelpers.createClass(cmsGalleries,[{key:"ready",value:function ready(){babelHelpers.get(babelHelpers.getPrototypeOf(cmsGalleries.prototype),"ready",this).call(this);this.translator.template.innerHTML="<paper-spinner-lite active=\"false\" slot=\"spinner\">\n    </paper-spinner-lite>";this.translator.clone(this);this.translator.target("cms-galleries","setLangObject",this._setLObj.bind(this));this.translator.target("cms-galleries","changeLang",this._setLang.bind(this),!1);this.translator.shoot("cms-galleries","setLangObject");this._getGalleries(!0)}},{key:"_setLObj",value:function _setLObj(res,querySnapshot){if("data"in querySnapshot){var langs=querySnapshot.data();res.call(this,langs)}}},{key:"_setLang",value:function _setLang(res,lang){this.lang=lang;res.call(this)}},{key:"__changeLang",value:function __changeLang(){this.lang=this.translator.lang;this.translator.changeLang.call(this)}},{key:"_routePageChanged",value:function _routePageChanged(routeData,query,active){if(!0===active&&-1!==["galleries"].indexOf(routeData.page)&&!0==="addimageto"in query){this.addImageTo=query.method;this.contentto=JSON.parse(atob(query.content));this.add=!0}if(!0===active&&-1!==["galleries"].indexOf(routeData.page)&&!1==="addimageto"in query){this.addImageTo="";this.contentto={};this.add=!1}}},{key:"_setGalleries",value:function _setGalleries(event){for(var par in event){if("Info"!==par){this.set("galleries",event[par])}else{this.set("inform",event[par])}}}},{key:"_getGalleries",value:function _getGalleries(data){var _this2=this;if(!0===data||"true"===data){this.translator._DBW.getMediaContent(function(done){_this2._setGalleries(done)},{name:"galleries"},!0)}this.removeChild(this.children[0])}},{key:"log",value:function log(data){console.log(data)}}],[{key:"_getShoutAnchor",get:function get(){return(0,_cmsLogin.html)(_templateObject2_b7d662e083c411e9b65ecdd08bafc34e())}},{key:"_getSilentAnchor",get:function get(){return(0,_cmsLogin.html)(_templateObject3_b7d662e083c411e9b65ecdd08bafc34e())}},{key:"_getBottom",get:function get(){return(0,_cmsLogin.html)(_templateObject4_b7d662e083c411e9b65ecdd08bafc34e())}},{key:"_getTable",get:function get(){return(0,_cmsLogin.html)(_templateObject5_b7d662e083c411e9b65ecdd08bafc34e())}},{key:"_getNavside",get:function get(){return(0,_cmsLogin.html)(_templateObject6_b7d662e083c411e9b65ecdd08bafc34e())}},{key:"is",get:function get(){return"cms-galleries"}},{key:"properties",get:function get(){return{lang:{type:String,observer:"__changeLang"},langs:{type:Object,value:{}},returnPath:{type:String,notify:!0},addImageTo:{type:String,notify:!0},contentto:{type:Object,notify:!0},add:{type:Boolean,notify:!0},images:{type:Array,notify:!0},galleries:{type:Array,notify:!0},translator:{type:Object,notify:!0,value:function value(){return MyAppGlobals.translator}}}}},{key:"observers",get:function get(){return["_routePageChanged(routeData, query, active)"]}}]);return cmsGalleries}(_cmsLogin.cmsMiddlePageTemplate);customElements.define(cmsGalleries.is,cmsGalleries)});