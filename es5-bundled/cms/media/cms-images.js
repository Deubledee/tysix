define(["../cms-login.js"],function(_cmsLogin){"use strict";var _marked=/*#__PURE__*/regeneratorRuntime.mark(generateCatsdata),_marked2=/*#__PURE__*/regeneratorRuntime.mark(generatePageData),_marked3=/*#__PURE__*/regeneratorRuntime.mark(generateArticleData);function _templateObject6_78a54aa0615e11eab834b97a903770ac(){var data=babelHelpers.taggedTemplateLiteral(["\n            <div table> \n                <dom-repeat repeat items=\"[[IMAGES]]\" as=\"image\">\n                    <template>\n                        <cms-image-item  \n                            query=\"[[query]]\"\n                            image=\"[[image]]\" \n                            checked=\"[[checked]]\"\n                            to-add=\"{{toAdd}}\"\n                            idx=\"[[index]]\"\n                        </cms-image-item>\n                    </template>                            \n                </dom-repeat>\n            </div>"]);_templateObject6_78a54aa0615e11eab834b97a903770ac=function _templateObject6_78a54aa0615e11eab834b97a903770ac(){return data};return data}function _templateObject5_78a54aa0615e11eab834b97a903770ac(){var data=babelHelpers.taggedTemplateLiteral(["  \n        <div class=\"count\">\n            <span> [[IMAGES.length]] </span>\n        </div>                       \n        <section class=\"flexchildbotom noFlex\">\n            <div class=\"center\">   \n                <h4>  [[Imag]]   </h4>     \n            </div>  \n        </section>\n\n        <section class=\"flexchildbotom noFlex\">\n            <div class=\"center\">   \n                <h4> \n                [[title]]    </h4>     \n            </div>  \n        </section>\n        <section class=\"flexchildbotom noFlex\">\n            <div class=\"center\">   \n                <h4> \n                [[dateCreated]]    </h4>     \n            </div>  \n        </section>\n        <section class=\"flexchildbotom noFlex\">\n            <div class=\"center\">   \n                <h4> \n                [[TYPE]]    </h4>     \n            </div>  \n        </section>\n        <section class=\"flexchildbotom noFlex\">\n            <div class=\"center\">  \n                <h4> \n                [[Gallery]]     </h4>     \n            </div>  \n        </section>\n        <section class=\"flexchildbotom noFlex\">\n            <div class=\"center\">  \n                <h4> \n                [[AddedTo]]     </h4>     \n            </div>  \n        </section>\n        <section class=\"flexchildbotom noFlex\">\n            <div class=\"center\">  \n                <h4> \n                [[url]]      </h4>     \n            </div>  \n        </section>\n        <section class=\"flexchildbotom noFlex\">\n            <div class=\"center flex schooch\">\n                <paper-button class=\"smaller\">\n                    <input title=\"[[image.uploaded]]\" type=\"checkbox\" on-click=\"_selectAll\" aria-label=\"check-all\" checked=\"{{checked::checked}}\">\n                </paper-button>  \n                <paper-button class=\"smaller\" on-click=\"_saveAndBack\">\n                    [[delete]] \n                </paper-button>     \n            </div>  \n        </section>"]);_templateObject5_78a54aa0615e11eab834b97a903770ac=function _templateObject5_78a54aa0615e11eab834b97a903770ac(){return data};return data}function _templateObject4_78a54aa0615e11eab834b97a903770ac(){var data=babelHelpers.taggedTemplateLiteral(["\n        <a href=\"[[rootPath]]media/view-images/add-images[[addStr]]\">\n            <div class=\"add-btn-group\" title=\"[[ADD]]\">\n                <div class=\"add-btn-group-item group-item-top-left\" ></div>\n\n                <div class=\"add-btn-group-item group-item-top-right\"></div>\n\n                <div class=\"add-btn-group-item group-item-bottom-left\"></div>\n\n                <div class=\"add-btn-group-item group-item-bottom-right\"></div>\n            </div> \n        </a>\n        "]);_templateObject4_78a54aa0615e11eab834b97a903770ac=function _templateObject4_78a54aa0615e11eab834b97a903770ac(){return data};return data}function _templateObject3_78a54aa0615e11eab834b97a903770ac(){var data=babelHelpers.taggedTemplateLiteral(["  \n            <h3 class=\"higherh3 back-a-litle\"> [[images]]</h3>       \n            <h5 class=\"higherh5\"> gallery - [[query.gallery]] </h5> \n        "]);_templateObject3_78a54aa0615e11eab834b97a903770ac=function _templateObject3_78a54aa0615e11eab834b97a903770ac(){return data};return data}function _templateObject2_78a54aa0615e11eab834b97a903770ac(){var data=babelHelpers.taggedTemplateLiteral([""]);_templateObject2_78a54aa0615e11eab834b97a903770ac=function _templateObject2_78a54aa0615e11eab834b97a903770ac(){return data};return data}function _templateObject_78a54aa0615e11eab834b97a903770ac(){var data=babelHelpers.taggedTemplateLiteral(["<paper-spinner-lite active=\"false\" slot=\"spinner\">"]);_templateObject_78a54aa0615e11eab834b97a903770ac=function _templateObject_78a54aa0615e11eab834b97a903770ac(){return data};return data}var cmsImages=/*#__PURE__*/function(_mixinBehaviors){babelHelpers.inherits(cmsImages,_mixinBehaviors);function cmsImages(){babelHelpers.classCallCheck(this,cmsImages);return babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(cmsImages).apply(this,arguments))}babelHelpers.createClass(cmsImages,[{key:"ready",value:function ready(){babelHelpers.get(babelHelpers.getPrototypeOf(cmsImages.prototype),"ready",this).call(this);this.translator.target("cms-image","setLangObject",this._setLObj.bind(this));this.translator.target("cms-image","changeLang",this._setLang.bind(this),/* ignoreName */ /* ignoreName */!1/* skipSlots */ /* skipSlots */);this.translator.shoot("cms-image","setLangObject")}},{key:"_setLObj",value:function _setLObj(res,querySnapshot){if("data"in querySnapshot){var langs=querySnapshot.data();res.call(this,langs)}}},{key:"_setLang",value:function _setLang(res,lang){this.lang=lang;res.call(this)}},{key:"__changeLang",value:function __changeLang(){this.lang=this.translator.lang;this.translator.changeLang.call(this)}},{key:"_routePageChanged",value:function _routePageChanged(page,query){this.IMAGES=[];this.addTo=!1;this.checked=!1;this.addStr="?gallery=".concat(this.query.gallery,"&add=trueI&count=").concat(this.IMAGES.length);var spinnerTemplate=function spinnerTemplate(){return(0,_cmsLogin.html$2)(_templateObject_78a54aa0615e11eab834b97a903770ac())};(0,_cmsLogin.render)(spinnerTemplate(),this);if(!!page&&"view-images"===page){if(!!query.type){this.addTo=!0/* skipSlots */}if(!!query.gallery){this.gallery=query.gallery;this.getGalleryImages(this.gallery,"removed,==,false")}}}},{key:"_selectAll",value:function _selectAll(){if(!1===this.checked){this.checked=!0;this.toAdd=this.IMAGES}else if(!0===this.checked){this.toAdd=[];this.checked=!1}else{throw"not the right type!! Expected Boolean got: "+babelHelpers.typeof(this.checked)}}},{key:"_saveAndBack",value:function _saveAndBack(){var _this=this;if("page"===this.query.type){var string,storage,_generatePageData$cal=generatePageData.call(this),_generatePageData$cal2=babelHelpers.slicedToArray(_generatePageData$cal,2);string=_generatePageData$cal2[0];storage=_generatePageData$cal2[1];localStorage["".concat(this.query.type,"-").concat(this.query.content)]=storage;window.history.pushState({},null,string)}if("cats"===this.query.type){var _string,_storage,_generateCatsdata$cal=generateCatsdata.call(this,this.query.name),_generateCatsdata$cal2=babelHelpers.slicedToArray(_generateCatsdata$cal,2);_string=_generateCatsdata$cal2[0];_storage=_generateCatsdata$cal2[1];localStorage["".concat(this.query.type,"-").concat(this.query.content,"-").concat(this.query.name)]=_storage;window.history.pushState({},null,_string)}if("article"===this.query.type){var _string2,_storage2,_generateArticleData$=generateArticleData.call(this),_generateArticleData$2=babelHelpers.slicedToArray(_generateArticleData$,2);_string2=_generateArticleData$2[0];_storage2=_generateArticleData$2[1];localStorage["".concat(this.query.type,"-").concat(this.query.content,"-media")]=_storage2;window.history.pushState({},null,_string2)}this.set("toAdd",void 0);setTimeout(function(){_this.set("toAdd",[]);_this.set("IMAGES",[]);window.dispatchEvent(new CustomEvent("location-changed"))},250);return}},{key:"_setLabelAdd",value:function _setLabelAdd(data){if(!0===data){return""}else{return"add"}}},{key:"_setLabelDelete",value:function _setLabelDelete(data){if(!0===data){return"add"}else{return"delete"}}},{key:"_computeUrl",value:function _computeUrl(IMAGES){var spinnerTemplate=function spinnerTemplate(){return(0,_cmsLogin.html$2)(_templateObject2_78a54aa0615e11eab834b97a903770ac())};(0,_cmsLogin.render)(spinnerTemplate(),this);return"".concat(location.search.toString(),"&count=").concat(IMAGES.length)}},{key:"reset",value:function reset(){this.routeData.page="";this.slashed=!0;this.imageData=[]}}],[{key:"_topLabel",get:function get(){return(0,_cmsLogin.html)(_templateObject3_78a54aa0615e11eab834b97a903770ac())}},{key:"_getSilentAnchor",get:function get(){return(0,_cmsLogin.html)(_templateObject4_78a54aa0615e11eab834b97a903770ac())}},{key:"_getBottom",get:function get(){return(0,_cmsLogin.html)(_templateObject5_78a54aa0615e11eab834b97a903770ac())}},{key:"_getTable",get:function get(){var template=(0,_cmsLogin.html)(_templateObject6_78a54aa0615e11eab834b97a903770ac());return template}},{key:"is",get:function get(){return"cms-images"}},{key:"properties",get:function get(){return{route:{type:Object,notify:!0},translator:{type:Object,notify:!0,value:function value(){return MyAppGlobals[window.cms];//MyAppGlobals.translator
}},lang:{type:String,notify:!0},langs:{type:Object,value:{}},IMAGES:{type:Array,notify:!0,value:[]},addStr:{type:String,notify:!0,computed:"_computeUrl(IMAGES)"},toAdd:{type:Array,notify:!0,value:[]},checked:{type:Boolean,value:!1,notify:!0},delete:{type:String,notify:!0,computed:"_setLabelDelete(addTo)"},addTo:{type:Boolean,value:!1,notify:!0},spinOut:{type:Boolean,value:!1}}}},{key:"observers",get:function get(){return["_routePageChanged(routeData.page, query)"]}}]);return cmsImages}((0,_cmsLogin.mixinBehaviors)(_cmsLogin.IronCheckedElementBehavior,(0,_cmsLogin.cmsMediaLib)(_cmsLogin.cmsMiddlePageTemplate)));customElements.define(cmsImages.is,cmsImages);function generateCatsdata(name){var sendBackArray,topush;return regeneratorRuntime.wrap(function generateCatsdata$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return"/content/pages/edit-subcategory-pages?content=".concat(this.query.content,"&name=").concat(name,"&path=").concat(this.query.path,"&lang=").concat(this.query.lang,"&added=true&add=").concat(this.query.add,"&top=").concat(this.query.top,"&parent=").concat(this.query.parent);case 2:sendBackArray=JSON.parse(localStorage["".concat(this.query.type,"-").concat(this.query.content,"-").concat(name)]);topush=sendBackArray[0].images.content;sendBackArray[0].images.content=topush.concat(this.toAdd);_context.next=7;return JSON.stringify(sendBackArray);case 7:case"end":return _context.stop();}}},_marked,this)}function generatePageData(){var sendBackArray,topush;return regeneratorRuntime.wrap(function generatePageData$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return"/content/pages/edit-category-pages?content=".concat(this.query.content,"&lang=").concat(this.query.lang,"&added=true&add=").concat(this.query.add);case 2:sendBackArray=JSON.parse(localStorage["".concat(this.query.type,"-").concat(this.query.content)]);topush=sendBackArray[0].images.content;sendBackArray[0].images.content=topush.concat(this.toAdd);_context2.next=7;return JSON.stringify(sendBackArray);case 7:case"end":return _context2.stop();}}},_marked2,this)}function generateArticleData(){var sendBackArray,topush;return regeneratorRuntime.wrap(function generateArticleData$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return"/content/articles/edit-articles?content=".concat(this.query.content,"&lang=").concat(this.query.lang,"&added=true&add=").concat(this.query.add);case 2:sendBackArray=JSON.parse(localStorage["".concat(this.query.type,"-").concat(this.query.content,"-media")]);topush=sendBackArray.images.content;sendBackArray.images.content=topush.concat(this.toAdd);_context3.next=7;return JSON.stringify(sendBackArray);case 7:case"end":return _context3.stop();}}},_marked3,this)}});