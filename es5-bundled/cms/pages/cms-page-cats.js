define(["../cms-login.js"],function(_cmsLogin){"use strict";function _templateObject6_787009d0615e11eab834b97a903770ac(){var data=babelHelpers.taggedTemplateLiteral(["            \n        <a href=\"[[rootPath]]content/pages/add-category-pages?&add=true\">\n            <div class=\"add-btn-group\" title=\"[[ADD]]\">\n                <div class=\"add-btn-group-item group-item-top-left\" ></div>\n\n                <div class=\"add-btn-group-item group-item-top-right\"></div>\n\n                <div class=\"add-btn-group-item group-item-bottom-left\"></div>\n\n                <div class=\"add-btn-group-item group-item-bottom-right\"></div>\n            </div>\n        </a>\n        "]);_templateObject6_787009d0615e11eab834b97a903770ac=function _templateObject6_787009d0615e11eab834b97a903770ac(){return data};return data}function _templateObject5_787009d0615e11eab834b97a903770ac(){var data=babelHelpers.taggedTemplateLiteral(["<cms-page-list-item slot=\"item","\" .page=\"","\">\n                        </cms-page-list-item>"]);_templateObject5_787009d0615e11eab834b97a903770ac=function _templateObject5_787009d0615e11eab834b97a903770ac(){return data};return data}function _templateObject4_787009d0615e11eab834b97a903770ac(){var data=babelHelpers.taggedTemplateLiteral([""," "]);_templateObject4_787009d0615e11eab834b97a903770ac=function _templateObject4_787009d0615e11eab834b97a903770ac(){return data};return data}function _templateObject3_787009d0615e11eab834b97a903770ac(){var data=babelHelpers.taggedTemplateLiteral(["<paper-spinner-lite active=\"false\" slot=\"spinner\">"]);_templateObject3_787009d0615e11eab834b97a903770ac=function _templateObject3_787009d0615e11eab834b97a903770ac(){return data};return data}function _templateObject2_787009d0615e11eab834b97a903770ac(){var data=babelHelpers.taggedTemplateLiteral(["<paper-spinner-lite active=\"false\" slot=\"spinner\">"]);_templateObject2_787009d0615e11eab834b97a903770ac=function _templateObject2_787009d0615e11eab834b97a903770ac(){return data};return data}function _templateObject_787009d0615e11eab834b97a903770ac(){var data=babelHelpers.taggedTemplateLiteral(["\n            <article centerListItem slot=\"table\">\n                <div>   \n                    <span> \n                        <paper-button class=\"button-normal\" @click=\"","\"> \n                            ","\n                        </paper-button>   \n                    </span>\n                </div>                 \n                <div class=\"","\">                   \n                    <span> \n                        <paper-button @click=\"","\"> "," </paper-button>\n                    </span>\n                </div>  \n                <div class=\"","\">                    \n                    <span> \n                        <paper-button @click=\"","\"> "," </paper-button>\n                    </span>\n                </div> \n                <div>\n                    <paper-button class=\"button-normal\">\n                        <paper-icon-button @click=\"","\" icon=\"image:remove-red-eye\" aria-label=\"mode-show\"></paper-icon-button> \n                    </paper-button> \n                </div>\n                <div>\n                    <paper-button class=\"button-del\">\n                        <paper-icon-button @click=\"","\" icon=\"av:not-interested\" aria-label=\"mode-delete\"></paper-icon-button> \n                    </paper-button> \n                </div>\n            </article>"]);_templateObject_787009d0615e11eab834b97a903770ac=function _templateObject_787009d0615e11eab834b97a903770ac(){return data};return data}var cmsPageListItem=/*#__PURE__*/function(_cmscategoriesLib){babelHelpers.inherits(cmsPageListItem,_cmscategoriesLib);function cmsPageListItem(){babelHelpers.classCallCheck(this,cmsPageListItem);return babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(cmsPageListItem).apply(this,arguments))}babelHelpers.createClass(cmsPageListItem,[{key:"ready",value:function ready(){babelHelpers.get(babelHelpers.getPrototypeOf(cmsPageListItem.prototype),"ready",this).call(this)}},{key:"_putRow",value:function _putRow(data){var _this=this;this.objInfo=[];this.objInfo.push(data);var articleTemplate=function articleTemplate(objInfo){return(0,_cmsLogin.html$2)(_templateObject_787009d0615e11eab834b97a903770ac(),_this.showPage.bind(_this),objInfo[0].id,objInfo[0].toArticle,_this._confirmToArticle.bind(_this),objInfo[0].toArticle,objInfo[0].Published.state,_this._confirmPublish.bind(_this),objInfo[0].Published.state,_this.showCats.bind(_this),_this._openConfirm.bind(_this))};(0,_cmsLogin.render)(articleTemplate(this.objInfo),this);localStorage.setItem("page-".concat(data.id,"-info"),JSON.stringify(this.objInfo))}},{key:"_getPagename",value:function _getPagename(cats){return cats}},{key:"error",value:function error(data){console.error("error from cms-article-viewer",data)}},{key:"deSpin",value:function deSpin(){this.$.spinner.active=!this.$.spinner.active}},{key:"showPage",value:function showPage(){if(!localStorage["page".concat(this.objInfo[0].id)]){this.getPageData(this.objInfo[0].id)}else{var cont=JSON.parse(localStorage["page-".concat(this.objInfo[0].id)]),arr=this._setLangArr(cont[0]);window.history.pushState({},null,"content/pages/edit-category-pages?content=".concat(this.objInfo[0].id,"&add=false&lang=").concat(arr[0]));window.dispatchEvent(new CustomEvent("location-changed"))}}},{key:"showCats",value:function showCats(){window.history.pushState({},null,"content/pages/subcategory-pages?content=".concat(this.objInfo[0].id));window.dispatchEvent(new CustomEvent("location-changed"))}},{key:"__delete",value:function __delete(data){this.page.removed=!0/* ignoreName */ /* skipSlots */;this.removePage(data,this.page)}},{key:"__publish",value:function __publish(data){console.log(data)}},{key:"_openConfirm",value:function _openConfirm(){var _this2=this;this._changeSectionDebouncer=_cmsLogin.Debouncer.debounce(this._changeSectionDebouncer,_cmsLogin.microTask,function(){_this2.dispatchEvent(new CustomEvent("confirm",{bubbles:!0,composed:!0,detail:{name:_this2.page.id,method:_this2.__delete.bind(_this2),argument:_this2.page.id,headderMsgKind:"remove ?",type:"page/category"}}))})}},{key:"_confirmPublish",value:function _confirmPublish(){var _this3=this;this._changeSectionDebouncer=_cmsLogin.Debouncer.debounce(this._changeSectionDebouncer,_cmsLogin.microTask,function(){_this3.dispatchEvent(new CustomEvent("confirm",{bubbles:!0,composed:!0,detail:{name:_this3.page.id,method:console.log,// (this.__publish).bind(this),
argument:"!!to be done!!",headderMsgKind:"publish ?",type:"page/category"}}))})}},{key:"_confirmToArticle",value:function _confirmToArticle(){var _this4=this;this._changeSectionDebouncer=_cmsLogin.Debouncer.debounce(this._changeSectionDebouncer,_cmsLogin.microTask,function(){_this4.dispatchEvent(new CustomEvent("confirm",{bubbles:!0,composed:!0,detail:{name:_this4.page.id,method:console.log,argument:"!!to be done!!",headderMsgKind:"send to articles ?",type:"page/category"}}))})}},{key:"__reset",value:function __reset(){this._debounceEvent=_cmsLogin.Debouncer.debounce(this._debounceEvent,_cmsLogin.microTask,function(){window.dispatchEvent(new CustomEvent("reset-list-type",{bubbles:!0,composed:!0}))})}}],[{key:"is",get:function get(){return"cms-page-list-item"}},{key:"properties",get:function get(){return{translator:{type:Object,notify:!0,value:function value(){return MyAppGlobals[window.cms];//MyAppGlobals.translator
}}}}}]);return cmsPageListItem}((0,_cmsLogin.cmscategoriesLib)((0,_cmsLogin.cmsPagesLib)(_cmsLogin.cmsItemTemplate)));customElements.define(cmsPageListItem.is,cmsPageListItem);var cmsPageCats=/*#__PURE__*/function(_cmsPagesLib){babelHelpers.inherits(cmsPageCats,_cmsPagesLib);function cmsPageCats(){babelHelpers.classCallCheck(this,cmsPageCats);return babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(cmsPageCats).apply(this,arguments))}babelHelpers.createClass(cmsPageCats,[{key:"connectedCallback",value:function connectedCallback(){babelHelpers.get(babelHelpers.getPrototypeOf(cmsPageCats.prototype),"connectedCallback",this).call(this)}},{key:"disconnectedCallback",value:function disconnectedCallback(){babelHelpers.get(babelHelpers.getPrototypeOf(cmsPageCats.prototype),"disconnectedCallback",this).call(this);//this._observer.disconnect();
}},{key:"ready",value:function ready(){babelHelpers.get(babelHelpers.getPrototypeOf(cmsPageCats.prototype),"ready",this).call(this);var spinnerTemplate=function spinnerTemplate(){return(0,_cmsLogin.html$2)(_templateObject2_787009d0615e11eab834b97a903770ac())};(0,_cmsLogin.render)(spinnerTemplate(),this);this.translator.target("cms-page-list-type","setLangObject",this._setLObj.bind(this));this.translator.target("cms-page-list-type","changeLang",this._setLang.bind(this),/* ignoreName */!1/* skipSlots */ /* skipSlots */);this.translator.shoot("cms-page-list-type","setLangObject")}},{key:"_setLang",value:function _setLang(res,lang){this.lang=lang;res.call(this)}},{key:"_setLObj",value:function _setLObj(res,querySnapshot){if("data"in querySnapshot){var langs=querySnapshot.data();res.call(this,langs)}}},{key:"__changeLang",value:function __changeLang(){this.lang=this.translator.lang;this.translator.changeLang.call(this)}},{key:"_routePageChanged",value:function _routePageChanged(routeData,query){var _this5=this;if("number"===typeof this.time)clearInterval(this.time);var reset="true"===query.reset;if(!query.reset){if("pages"===routeData.page){this.time=setTimeout(function(){if(0===_this5.pages.length){(0,_cmsLogin.afterNextRender)(_this5,function(){_this5._askPages({q:"removed",v:!1})})}},120)}}else if(!0===reset){this.pages=[];this._contentChanged()}}},{key:"_contentChanged",value:function _contentChanged(){var _this6=this;if("number"===typeof this.time)clearTimeout(this.time);var spinnerTemplate=function spinnerTemplate(){return(0,_cmsLogin.html$2)(_templateObject3_787009d0615e11eab834b97a903770ac())};(0,_cmsLogin.render)(spinnerTemplate(),this);if("pages"===this.routeData.page&&"/pages"===this.route.path){this.time=setTimeout(function(){window.history.pushState({},null,"".concat(_this6.rootPath,"content/pages"));window.dispatchEvent(new CustomEvent("location-changed"))},500)}else{this.pages=[]}}},{key:"_setAll",value:function _setAll(response){var arr=[];this.pages=[];for(var i=0;i<response.length;i++){if(!!response[i].id){var datarr=response[i].data();arr.push(datarr)}}this.set("pages",arr)}},{key:"putElement",value:function putElement(data){var _this7=this;if("number"===typeof this.time)clearInterval(this.time);this.time=setTimeout(function(){var pageTemplate=function pageTemplate(pages){return(0,_cmsLogin.html$2)(_templateObject4_787009d0615e11eab834b97a903770ac(),pages.map(function(article,idx){return(0,_cmsLogin.html$2)(_templateObject5_787009d0615e11eab834b97a903770ac(),idx,article)}))};(0,_cmsLogin.render)(pageTemplate(data),_this7)},60)}},{key:"_reset",value:function _reset(call,mlscs){console.log("reseted pages");this.innerHTML="";this.pages=void 0;this.inForm=void 0;this.set("sloted",!1);window.onbeforeunload=function(){};setTimeout(function(){call()},mlscs)}}],[{key:"_getSilentAnchor",get:function get(){return(0,_cmsLogin.html)(_templateObject6_787009d0615e11eab834b97a903770ac())}},{key:"is",get:function get(){return"cms-page-cats"}},{key:"properties",get:function get(){return{lang:{type:String,observer:"__changeLang"},langs:{type:Object,value:{}},translator:{type:Object,notify:!0,value:function value(){return MyAppGlobals[window.cms];//MyAppGlobals.translator
}},pages:{type:Array,notify:!0,value:[],observer:"putElement"}}}},{key:"observers",get:function get(){return["_routePageChanged(routeData, query)"]}}]);return cmsPageCats}((0,_cmsLogin.cmsPagesLib)(_cmsLogin.cmsMiddlePageTemplate));customElements.define(cmsPageCats.is,cmsPageCats)});